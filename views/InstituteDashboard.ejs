<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <%- include('partials/header')%>
</head>

<body>
    <%- include('partials/InstituteNav') %>

        <div class="grid grid-cols-1 md:grid-cols-5 gap-4">
            <div class="col-span-1 md:col-span-1 top-0 left-0 w-full md:w-64 bg-white h-full md:border-r">
                <div class="overflow-y-auto overflow-x-hidden flex-grow">
                    <ul class="flex flex-col py-4 space-y-1">
                        <li>
                            <a href="#"
                                class="menu-item relative flex flex-row items-center h-11 focus:outline-none hover:bg-gray-50 text-gray-600 hover:text-gray-800 border-l-4 border-transparent hover:border-indigo-500 pr-6"
                                onclick="changeTab(1)">
                                <span class="inline-flex justify-center items-center ml-4 text-gray-800">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z">
                                        </path>
                                    </svg>
                                </span>
                                <span class="ml-2 text-sm tracking-wide truncate">Institute Profile</span>
                            </a>
                        </li>
                        <li onclick="changeTab(2)">
                            <a href="#"
                                class="relative flex flex-row items-center h-11 focus:outline-none hover:bg-gray-50 text-gray-600 hover:text-gray-800 border-l-4 border-transparent hover:border-indigo-500 pr-6">
                                <span class="inline-flex justify-center items-center ml-4">
                                    <img class="w-5" src="https://img.icons8.com/ios/50/student-male--v1.png"
                                        alt="student-male--v1" />
                                </span>
                                <span class="ml-2 text-sm tracking-wide truncate">Students Request</span>
                            </a>
                        </li>
                        <li>
                            <a href="#"
                                class="relative flex flex-row items-center h-11 focus:outline-none hover:bg-gray-50 text-gray-600 hover:text-gray-800 border-l-4 border-transparent hover:border-indigo-500 pr-6"
                                onclick="changeTab(3)">
                                <span class="ml-4">
                                    <img class="w-5"
                                        src="https://img.icons8.com/material-rounded/24/conference-background-selected.png"
                                        alt="conference-background-selected" />
                                </span>

                                <span class="ml-2 text-sm tracking-wide truncate">Faculty/Staff Request </span>
                            </a>
                        </li>
                        <li>
                            <a href="#"
                                class="relative flex flex-row items-center h-11 focus:outline-none hover:bg-gray-50 text-gray-600 hover:text-gray-800 border-l-4 border-transparent hover:border-indigo-500 pr-6"
                                onclick="changeTab(4)">
                                <span class="inline-flex justify-center items-center ml-4">
                                    <svg class="w-5 h-5 text-gray-800 " aria-hidden="true"
                                        xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 17 14">
                                        <path
                                            d="M16 2H1a1 1 0 0 1 0-2h15a1 1 0 1 1 0 2Zm0 6H1a1 1 0 0 1 0-2h15a1 1 0 1 1 0 2Zm0 6H1a1 1 0 0 1 0-2h15a1 1 0 0 1 0 2Z" />
                                    </svg>
                                </span>
                                <span class="ml-2 text-sm tracking-wide truncate">List of
                                    Students</span>
                            </a>
                        </li>
                        <li>
                            <a href="/logout"
                                class="relative flex flex-row items-center h-11 focus:outline-none hover:bg-gray-50 text-gray-600 hover:text-gray-800 border-l-4 border-transparent hover:border-indigo-500 pr-6">
                                <span class="inline-flex justify-center items-center ml-4">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1">
                                        </path>
                                    </svg>
                                </span>
                                <span class="ml-2 text-sm tracking-wide truncate">Logout</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- Main Content -->
            <!-- Profile -->
            <div class="col-span-1 md:col-span-4">
                <div class="mx-4 md:mx-8 mt-10" id="profile">
                    <div>
                        <h3 class="text-lg font-semibold leading-7 text-gray-900 md:text-base">
                            Institute Information</h3>
                        <!-- <p class="mt-1 text-sm leading-6 text-gray-500">Institute details</p> -->
                        <div class="mt-4 border-t border-gray-200">
                            <dl class="divide-y divide-gray-200">
                                <div class="py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
                                    <dt class="text-sm font-medium leading-5 text-gray-500">Institute
                                        name</dt>
                                    <% institute.forEach(function(i) { %>
                                        <dd class="mt-1 text-sm leading-5 text-gray-900 sm:col-span-2">
                                            <%= i.instituteName %>
                                        </dd>


                                </div>
                                <div class="py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
                                    <dt class="text-sm font-medium leading-5 text-gray-500">
                                        Email address</dt>
                                    <dd class="mt-1 text-sm leading-5 text-gray-900 sm:col-span-2">
                                        <%= i.email%>
                                    </dd>
                                    <% }) %>
                                </div>
                                <div class="py-3 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
                                    <dt class="text-sm font-medium leading-5 text-gray-500">
                                        About</dt>
                                    <dd class="mt-1 text-sm leading-5 text-gray-900 sm:col-span-2">
                                        Fugiat ipsum ipsum
                                        deserunt culpa aute sint do nostrud anim incididunt
                                        cillum culpa consequat.
                                        Excepteur qui ipsum aliquip consequat sint. Sit id
                                        mollit nulla mollit nostrud in ea
                                        officia proident. Irure nostrud pariatur mollit ad
                                        adipisicing reprehenderit
                                        deserunt qui eu.</dd>
                                </div>
                            </dl>
                        </div>
                    </div>
                </div>


                <div class="mx-4 hidden mt-10" id="attend">
                    <div class="overflow-x-auto">
                        <table class="w-full text-sm text-left rtl:text-right text-gray-500 border border-gray-300">
                            <thead class="text-xs text-gray-700 uppercase bg-gray-50 text-center">
                                <tr class="">
                                    <th scope="col" class="px-2 py-3">
                                        Name
                                    </th>
                                    <th scope="col" class="px-2 py-3 ">
                                        Year
                                    </th>
                                    <th scope="col" class="px-2 py-3 ">
                                        Status
                                    </th>
                                    <th scope="col" class="py-3 ">
                                        Action
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <% students.forEach((s)=> { %>
                                    <% if (!s.active) { %>
                                        <tr class="bg-white border-b text-center">
                                            <th scope="row"
                                                class="px-2 py-4 font-medium text-gray-900 whitespace-nowrap">
                                                <%= s.fullName %>
                                            </th>
                                            <td class="px-2 py-4">
                                                <%= s.year %>
                                            </td>
                                            <td class="px-2 py-4">
                                                Pending
                                            </td>
                                            <td class="py-4 flex items-center justify-center space-x-2">
                                                <form action="/acceptStatusStudent" method="post">
                                                    <input type="hidden" value="<%= s.email %>" name="email">
                                                    <button
                                                        class="button-green hover:bg-green-600 text-white py-1 px-3 rounded-md"
                                                        type="submit">Accept</button>
                                                </form>
                                                <form action="/rejectStatusStudent" method="post">
                                                    <input type="hidden" value="<%= s.email %>" name="email">
                                                    <button
                                                        class="button-red hover:bg-red-600 text-white py-1 px-3 rounded-md"
                                                        type="submit">Reject</button>
                                                </form>
                                            </td>
                                        </tr>
                                        <%}%>
                                            <% }) %>
                            </tbody>
                        </table>
                    </div>
                </div>


                <div class="hidden mt-10 md:mx-3" id="defaulter">
                    <div class="relative overflow-x-auto ">
                        <% if(teacher.length!=0){%>
                            <table class="w-full text-sm text-left rtl:text-right text-gray-500 border border-gray-300">
                                <thead class="text-xs text-gray-700 uppercase bg-gray-50 text-center">
                                    <tr class="">
                                        <th scope="col" class="px-2 py-3">
                                            Name
                                        </th>
                                        <th scope="col" class="px-2 py-3 ">
                                            <!-- Department -->Email
                                        </th>
                                        <th scope="col" class="px-2 py-3 ">
                                            Status
                                        </th>
                                        <th scope="col" class="px-2 py-3 ">
                                            Action
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <% teacher.forEach((s)=> { %>
                                        <% if (!s.active) { %>
                                            <tr class="bg-white border-b text-center">
                                                <th scope="row"
                                                    class="px-2 py-4 font-medium text-gray-900 whitespace-nowrap">
                                                    <%= s.fullName %>
                                                </th>
                                                <td class="px-2 py-4">
                                                    <%= s.email %>
                                                </td>
                                                <td class="px-2 py-4">
                                                    Pending
                                                </td>
                                                <td class="py-4 flex items-center justify-center space-x-2">
                                                    <form action="/acceptStatusTeacher" method="post">
                                                        <input type="hidden" value="<%= s.email %>" name="email">
                                                        <button
                                                            class="button-green hover:bg-green-600 text-white py-1 px-3 rounded-md"
                                                            type="submit">Accept</button>
                                                    </form>
                                                    <form action="/rejectStatusTeacher" method="post">
                                                        <input type="hidden" value="<%= s.email %>" name="email">
                                                        <button
                                                            class="button-red hover:bg-red-600 text-white py-1 px-3 rounded-md"
                                                            type="submit">Reject</button>
                                                    </form>
                                                </td>
                                            </tr>
                                            <% } %>
                                                <% }) %>
                                </tbody>
                            </table>
                            <%}else{%>
                                <div class="h-screen flex justify-center items-center">
                                    <div class="text-xl md:text-2xl lg:text-3xl xl:text-4xl text-center">
                                        <p>No more Request</p>
                                    </div>
                                </div>


                                <%}%>
                    </div>
                </div>


                <!--   List of Students  -->

                <div class="mt-10 md:mx-3">

                    <div class="relative overflow-x-auto hidden" id="list">
                        <!-- component -->
                        <div class='flex items-center justify-center'>
                            <!-- <form action="/searchStudent" method="get">
                                <div class="flex items-center max-w-md mx-auto bg-white rounded-lg "
                                    x-data="{ search: '' }">
                                    <div class="w-full">
                                        <input type="text"
                                            class="w-full px-4 py-3 text-gray-800 rounded focus:outline-none border"
                                            placeholder="search" x-model="search" name="fullName">
                                    </div>
                                    <div>
                                        <button type="submit"
                                            class="flex items-center bg-blue-500 justify-center w-12 h-12 text-white rounded-r-lg"
                                            :class="(search.length > 0) ? 'bg-purple-500' : 'bg-gray-500 cursor-not-allowed'"
                                            :disabled="search.length == 0">
                                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                    d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </form> -->
                        </div>
                        <table
                            class="w-full text-sm text-left rtl:text-right text-gray-500 border border-gray-300 mt-10">
                            <thead class="text-xs text-gray-700 uppercase bg-gray-50 text-center">
                                <tr class="">
                                    <th scope="col" class="px-2 py-3">
                                        Name
                                    </th>
                                    <th scope="col" class="px-2 py-3 ">
                                        Roll No
                                    </th>
                                    <th scope="col" class="px-2 py-3 ">
                                        Email
                                    </th>
                                    <th scope="col" class="px-2 py-3 ">
                                        Year
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <% students.forEach((s)=> { %>
                                    <% if (s.active) { %>
                                        <tr class="bg-white border-b text-center">
                                            <th scope="row"
                                                class="px-2 py-4 font-medium text-gray-900 whitespace-nowrap">
                                                <%= s.fullName %>
                                            </th>
                                            <td class="px-2 py-4">
                                                <%= s.rollNo %>
                                            </td>
                                            <td class="px-2 py-4">
                                                <%= s.email %>
                                            </td>
                                            <td class="py-4">
                                                <%= s.year %>
                                            </td>
                                        </tr>
                                        <% } %>
                                            <% }) %>

                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!--   Defaulter Students  -->



        </div>
        </div>

        <footer class="bg-body-tertiary text-center text-lg-start mt-8 footer ">
            <!-- Copyright -->
            <div class="text-center p-3 bg-indigo-500">
                © 2020 Copyright:
                <a class="text-body" href="/">Attendance Portal</a>
            </div>
            <!-- Copyright -->
        </footer>

</body>
<%- include('partials/scriptlink2')%>

</html>